## 커리큘럼(12-30/변경)
```
01. Java
02. git
03. Database 
04. Jsp [Server]

05. HTML,CSS 
07. JS
06. 미니프로젝트-2W

08. SpringFramework , SrpingBoot 
19. 중간프로젝트 (1M)
10. Linux 명령어
11. AWS(v)
12. React JS [Front-end]
13. DevOps - Docker
14. App - Android
15. 최종프로젝트 (1M)
```
---
# [AWS](https://brave-planarian-384.notion.site/AWS-amazon-web-service-76f727cad9934c90adf2b2649bb5b9e1)
+ Amazon Web Service는 지금은 흔히 ``클라우드 컴퓨팅``이라고 알려진 웹 서비스 형태로 기업에 IT인프라를 제공
## 클라우드 컴퓨팅
+ 서버(컴퓨터)를 가상으로 구축하고 사용자에게 환경을 제공해주는 것

## 온프레미스 vs 클라우드 컴퓨터
+ 온프레미스
> + 기업의 서버를 자체적으로 보유하고 있는 서버에 직접 설치하고 운영하는 방식

+ 클라우드 컴퓨터
> + 필요한 IT자원만을 선택해 인터넷을 통해 '서비스'방식으로 구입해 사용하는 방식
>> 1. Saas(Software as a Service) : 소프트웨어를 웹에서 사용할 수 있는 서비스
>> 2. Iaas(Infrastructure as a Service) : 인프라 구축에 필요한 시스템을 대여하는 서비스
>> 3. Paas(Platform as a Service) : 소프트웨어 개발에 필요한 플랫폼을 대여하는 서비스

## AWS 대표적 기능
+ IAM : 사용자 권한 설정
+ EC2 : 엘라스틱컴퓨터
+ S3 : 스토리지
+ RDS : 데이터베이스
+ Ramda : 서버리스
+ Route53 : 도메인서비스
+ ELB : 엘라스틱 로드 밸런싱(트래픽 분산)
+ AMI : 아마존 머신 이미지 (서비스 복제)
+ ECS : 엘라스틱 컨테이너서비스 (도커기반 서버리스)
+ EKS : 엘라스틱 쿠버네틱스서비스

## 리전(Region) & 가용영역(AZ)
+ [리전](https://infrastructure.aws/)
> + 데이터 센터의 집합
> + 데이터 센터는 재난에 대비해 보통 3개의 형태로 나뉨
> + 각 데이터 센터들은 여러개로 나누어져있고, 물리적으로 구축되어있으며 서로 광 통신만으로 연결되어 빠른 데이터를 공유할 수 있음
>> ```
>> northeast-2a
>> northeast-2b
>> northeast-2c
>> ```

+ 가용영역(Available Zone)
> + 위와 같이 나누어져 사용할 수 있는 영역
> + 위의 예시로 보게된다면 한 리전에 3개의 가용영역이 있는 것

## IAM서비스
+ Identity and access management
+ **하나의 user사용자**는 **하나의 IAM**이 됨
+ 그룹은 사용자만 포함할 수 있으며 다른 그룹을 포함할 수 없음
+ 사용자나 그룹에는 권한이 부여
+ **그룹에 부여된 권한**은 **사용자에게 상속**
+ 그룹의 권한만 사용자가 가지는 것은 아니며 개별적으로 **추가 권한을 가질 수도 있음**
+ 권한은 각각의 JSON문서로 만들어짐

### IAM만들기 시나리오
1. 사용자 생성
> + 사용자 이름 입력 후 사용자 액세스 권한 제공을 체크한 후 IAM 사용자를 생성하고 싶음 선택
> + 커스텀 비밀번호 입력
2. 그룹생성 및 권한 설정 - AdminstratorAccess
3. 태그는 자율
4. 처음 계정 생성시 암호가 비활성화
> + 해당 사용자탭 -> 보안 자격 증명 -> 콘솔 엑세스 관리에서 활성화


## EC2서비스
+ 고가용성 가상머신 서버
+ 기존의 가상화 기술방식의 서비스

+ C로 시작하는 인스턴스는 CPU 최적화
> + 대용량 연산작업 서버에 적합 (게임서버, 고성능 웹서버 등)

+ M,R로 시작하는 인스턴스는 메모리최적화
> + 대규모 데이터셋 처리에 적합
> + 관계형 데이터베이스, 비관계형 데이터베이스 실시간으로 처리하는 서버 등
> + 일래스틱 캐시서버

+ I,GH1로 시작하는 인스턴스는 로컬 스토리지 최적화 
> + 대규모 데이터셋 파일저장에 적합
> + 관계형 데이터베이스, 비관계형 데이터베이스
> + 데이터 웨어하우징 어플리케이션
> + 분산 파일 저장에 적합

## 보안그룹
+ 보안그룹은 방화벽
+ 보안그룹은 포트번호로 통제

+ 인바운드 규칙은 외부에서 EC2에 접속하는 규칙
+ 아웃바운드 규칙은 EC2에서 나가는 규칙(기본적으로 모든 포트를 아웃바운딩)

+ time out에러(무한로딩) > 보안그룹의 문제
+ connection refused에러 > 보안그룹은 통과했지만, 어플리케이션 레벨에서의 문제

## 탄력적 아이피(Elastic IP)
+ EC2인스턴스를 생성할 때 랜덤한 공용아이피를 부여하게 되며 재시작하게 되면 공용아이피가 변경됨
+ 탄력적 아이피를 부여받으면 아이피를 고정시킬 수 있음

## EC2 고급기능
### EC2 배치그룹
+ 여러인스턴스가 배치될 때, 이런 방식을 제어하는 방식

1. 클러스터 배치그룹
> + 같은 가용영역에 존재
> + **장점**
>> + 같은 영역에 있기 때문에 빠른 네트워크 통신이 가능
> + **단점**
>> + 가용영역에서 실패가 발생하면 모든 인스턴스에 실패가 전파 (짧은 지연속도)

2. 분산 배치그룹
+ 클러스터 배치그룹의 반대
+ 인스턴스들이 다른 하드웨어에 분산되어 배치
+ **장점**
> + 동시 실패 위험이 감소
+ **단점**
> + 가용영역별 7개까지 배치될수 있음 (규모제한)

3. 분할 배치그룹(파티션)
+ 분산 배치그룹과 비슷한 방식
+ 가용역역에 partition을 지정하고 배치하는 방식
+ 같은 영역이지만 파티션을 나눔
+ 동일 리전에 여러 가용영역이 있을 수 있음
+ **장점**
> + 각 하드웨어별로 물리적이 랙(장비)를 공유하지 않기 때문에 장애로부터 격리
> + partition1이 다운되어도 partition2는 사용가능
> + 아파치kafka, hadoop같은 빅데이터 처리 어플리케이션들에 사용하기 좋음

## EC2 Hibernate(절전모드)
+ 인스턴스를 절전 모드로 둘 수 있음
+ 인스턴스 종료시 인스턴스의 메모리내용을 EBS볼륨에 덤프 해둠
+ EC2를 다시 실행하면 덤프한 내용을 EBS볼륨에서 EC2인스턴스 메모리로 가져가는 방식
+ 덤프내용을 그대로 복구하기 떄문에, 중지한 적이 없는 효과를 낼 수 있음

## EBS볼륨 (저장장치 + 볼륨암호화)
+ EBS볼륨은 컴퓨터의 하드디스크 장치라고 생각할 수 있음
+ 네트워크를 통해 EC2에 부착
+ 하나의 EBS볼륨은 하나의 EC2와 연결
+ [Ec2에서 연결된 EBS볼륨 사용할 수 있도록 mount하기](https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/ebs-using-volumes.html)

## 볼륨 암호화
+ EBS볼륨이 인스턴스와 통신할 때 주고 받는 데이터를 암호화해주는 기능
+ EBS볼륨을 암호화 했을 때, 백그라운드에서 자동으로 복호화해서 사용
+ 볼륨을 암호화 한다고 해서, 성능이 느려지는 것은 아님

## EBS스냅샷(백업)
+ 특정 시점에 대한 볼륨의 백업
+ 다른 가용영역에 EBS볼륨을 복원하는게 가능
+ 다른 AZ간의 이전이 가능

## AMI (아마존 머신 이미지)
+ EC2 인스턴스를 통쨰로 이미지로 만드는 방식
+ 클라우드의 강력한 장점
+ EC2인스턴스에 설치하고자 하는 모든 소프트웨어를 AMI가 미리 패키징해줌
+ AMI는 특정 AWS리전에 국한되며, 각 AWS리전에는 고유 AMI가 있음
+ 다른 AWS리전에서 AMI를 사용해 EC2인스턴스를 실행하는 것은 불가능하지만, 대상 AWS리전으로 AMI를 복사해 EC2인스턴스를 생성하는 것은 가능

+ **AMI 사용하기 시나리오**
> 1. EC2인스턴스를 하나 생성
> 2. 생성할 때 user data에 아래 내용을 넣음
>> ```
>> #!/bin/bash
>> sudo apt-get update
>> sudo apt-get install -y apache2
>> apache2 -version
>> sudo service apache2 start
>> sudo chmod 777 /var/www/html/index.html
>> ```
> 3. 브라우저를 통해 설치된 apache2를 확인합
> 4. 인스턴스를 우클릭하여 인스턴스 이미지 생성(AMI)로 생성
> 5. AMI탭 에서 해당 AMI를 이용하여 인스턴스를 생성
> 6. MI로 인스턴스 시작 클릭
> 7. 생성할 때 퍼블릭아이피는 자동할당
> 8. user data에는 아래 내용을 넣음음
>> + AMI이지로 인스턴스를 생성하기 때문에 기존 apt패키지와 apache2서버는 이미 설치 되어있음
>>> ```
>>> #!/bin/bash
>>> echo "<h1>Hello World from $(hostname -f)</h1>" > /var/www/html/index.html
>>> ```
> 9. AMI로 생성된 EC2에 접속해서 결과를 확인

## EFS볼륨 (Elastic File System)
+ NFS(네트워크 파일 시스템)
> + 네트워크를 통해 파일 및 디렉토리에 엑세스 할 수 있음
+ 여러 EC2인스턴스에 마운트 될 수 있음
+ EC2 인스턴스는 다양한 가용 영역에 있을 수 있음
+ EFS는 Linux기반 운영체제만 연결됨
+ EFS는 자동확장되어 크기 지정이 없음

+ 스토리지 클래스 선택
> 1. ``Standard`` : 다양한 가용영역에 포함되게 함 - 운영
> 2. ``One-zone`` : 하나의 가용영역에 포함되게 함 - 개발

+ 수명주기 관리
> 1. ``Standard`` : 어세스가 많은 파일들은 이 계층에 저장
> 2. ``Infrequency access(IA)`` : 일정 시간이 되면 사용량이 적은 파일을 스토리지 계층으로 옮기는 모드

+ EFS의 다양한 모드
> + 처리량 모드
>> 1. ``버스트모드`` : 파일크기에 따라 용량의 크기도 정해짐 ( 파일처리량은 50Mib/s에서 100Mib/s까지 버스팅 )
>> 2. ``프로비저닝모드`` : 스토리지 크기에 상관없이 파일 처리량을 설정할 수 있음
>
> + 퍼포먼스(성능) 모드
>> 1. ``일반모드`` : 기본값이며, 일반적 성능 (웹서버에 적합)
>> 2. ``Max IO모드`` : 고성능 IOPS를 제공 (Bigdata처리에 적합)